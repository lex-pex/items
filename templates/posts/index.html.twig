{% extends 'layout/main.html.twig' %}
{% block title %}{{ title }}{% endblock %}
{% block canvas %}
<div class="row no-gutters">
    {% for p in posts %}
    <div class="col-md-4 p-1">
        <div class="card">
            <div class="card-header text-center">{{ p.title }}</div>
            <div class="card-body">{{ p.getShortContent }}</div>
            <div class="card-footer">
                id: #{{ p.id }}, Category: #{{ p.categoryId }}
                <a onclick="event.preventDefault();
                        document.getElementById('delete-form-{{ p.id }}').submit();"
                   class="btn btn-sm btn-outline-danger" href="#"  role="button">Del</a>
                <a class="btn btn-sm btn-outline-primary" href="/posts/{{ p.id }}/edit" role="button">Edit</a>
                <a class="btn btn-sm btn-outline-secondary" href="/posts/{{ p.id }}" role="button">Read</a>
                <form action="{{ path('post_delete') }}" method="post" id="delete-form-{{ p.id }}" style="display:none">
                    <input type="number" name="id" value="{{ p.id }}">
                    <input type="submit" value="Del">
                </form>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
<hr>
{% endblock %}


